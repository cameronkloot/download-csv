"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};module.exports=function(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",";if(!n||Array.isArray(n)&&!n.length||!Object.keys(n).length)return"传入数据为空(the download datas is null)";var e=[];if("object"===(void 0===n?"undefined":_typeof(n))&&Array.isArray(n)){var o=Array.isArray(n[0]);if(n.some(function(n){return Array.isArray(n)!==o}))return"传入数据格式不一致(the array element data format is inconsistent)";if(o)e=e.concat(n.map(function(n){return n.join(t)}));else{var i=[];if(n.forEach(function(n){return i=i.concat(Object.keys(n))}),i=i.filter(function(n,r,t){return t.indexOf(n)===r}),i.length>0)if(r&&"object"===(void 0===r?"undefined":_typeof(r))){var f=i.map(function(n){return r.hasOwnProperty(n)?r[n]:n});e.push(f.join(t))}else e.push(i.join(t));n.map(function(n){return i.map(function(r){return void 0!==n[r]?n[r]:""})}).forEach(function(n){e.push(n.join(t))})}}else{if("object"!==(void 0===n?"undefined":_typeof(n)))return n;for(var u in n)r&&r.hasOwnProperty(u)?e.push(r[u]+","+n[u]):e.push(u+","+n[u])}return e.join("\r\n")};